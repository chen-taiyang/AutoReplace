# è‡ªåŠ¨ä¿®æ”¹GNS3ä¸­Ciscoé…ç½®æ–‡ä»¶ä¸­çš„IPåœ°å€

## è®¾è®¡åˆè¡·

ç”±äºè€ƒè™‘åˆ°æˆ‘æœ‹å‹ä»¬â€œå¹³æ—¶å¿™äºå„ç§äº‹æƒ…â€ï¼Œæ²¡æ—¶é—´é…ç½®è®¾å¤‡ï¼ˆç‚¹åè¢æŸã€å†¯æŸã€ç¨‹æŸï¼‰ã€‚ä½†æ˜¯ä½œä¸šè¦æ±‚â€œè®¾å¤‡çš„IPåœ°å€æœ‰è‡ªå·±çš„ç—•è¿¹â€ï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€ä¸ªå°ç©æ„ã€‚ğŸŒ¹



## ä¸»è¦åŠŸèƒ½

è‡ªåŠ¨å°†æ‰€æœ‰é…ç½®æ–‡ä»¶ä¸­æ‰€æœ‰é…ç½®æ–‡ä»¶åŠ ä¸Šâ€œä½ çš„ç—•è¿¹â€œã€‚



## å¦‚ä½•ä½¿ç”¨

1. ä½ éœ€è¦æ ¹æ®æ¨¡æ¿æ‹“æ‰‘å›¾æ„å»ºè‡ªå·±çš„æ‹“æ‰‘å›¾ï¼ˆåŒ…æ‹¬æ¥å£ã€è®¾å¤‡åï¼‰
2. é€‰æ‹©ä¸€ç§æ¨¡å¼å¯¹config.txtè¿›è¡Œä¿®æ”¹
3. è¿è¡ŒAutoReplace.exe
4. å°†é…ç½®æ–‡ä»¶å¯¼å…¥ç›¸åº”çš„è®¾å¤‡ä¸­



## ä¸¤ç§ä¿®æ”¹æ¨¡å¼

1. åªä¿®æ”¹åŸé…ç½®æ–‡ä»¶ä¸­IPåœ°å€çš„ç¬¬äºŒä½

   è¿™æ—¶å€™ä½ éœ€è¦åœ¨config.txtä¸­è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼ˆåƒä¸‡ä¸è¦è¾“è‡ªå·±çš„**å­¦å·**å•Šï¼ï¼ï¼ï¼‰

   ![image-20220901182018595](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901182018595.png)

   > å¿…é¡»æŒ‰ç…§è¿™æ ·è¾“å…¥ï¼ˆä»£ç åŠå¤©èµ¶å‡ºæ¥çš„ï¼Œæœ‰æ—¶é—´æ…¢æ…¢ä¼˜åŒ–ï¼Œè¿™ç®—è®­ç»ƒç”¨æˆ·å—ï¼Ÿï¼‰

   ç„¶åè¿è¡Œexeæ–‡ä»¶ä½ å°±ä¼šå‘ç°é…ç½®æ–‡ä»¶ä¸­IPåœ°å€å‘ç”Ÿäº†æ”¹å˜

   å‡è®¾åŸæœ¬ï¼š10.4.1.100 

   â€‹		ä¿®æ”¹åï¼š10.2.1.100

   å…·ä½“æœ‰ä»€ä¹ˆç”¨ï¼Œçœ‹ä½ è‡ªå·±æ‚Ÿæ€§äº†

   

2. å®Œå…¨ä¿®æ”¹IPåœ°å€

   > è¿™ç§æ¨¡å¼æœ‰ç‚¹ç¹çï¼Œå»ºè®®ç¬¬ä¸€ç§

   è¿™æ—¶å€™ä½ éœ€è¦åœ¨config.txtä¸­è¾“å…¥ä»¥ä¸‹æ ¼å¼çš„å†…å®¹ï¼š

   åŸIPåœ°å€->ä¿®æ”¹åçš„IPåœ°å€   å¦‚å›¾æ‰€ç¤ºï¼š

   ![image-20220901182456036](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901182456036.png)

   > å¿…é¡»æŒ‰ç…§è¿™æ ·è¾“å…¥ï¼ˆä»£ç ä¸€å¤©èµ¶å‡ºæ¥çš„ï¼Œæœ‰æ—¶é—´æ…¢æ…¢ä¼˜åŒ–ï¼Œè¿™ç®—è®­ç»ƒç”¨æˆ·å—ï¼Ÿï¼‰

   æ³¨æ„äº‹é¡¹ï¼š

   - ä¿®æ”¹åçš„IPéœ€è‡ªå·±è§„åˆ’å¥½
   - ä¸ä»…åªæœ‰æ¥å£çš„åœ°å€éœ€è¦æ›´æ¢è¿˜æœ‰**è·¯ç”±åè®®ä¸­çš„ç½‘æ®µä¹Ÿéœ€è¦æ›´æ¢**

   â€‹      å¦‚å›¾æ‰€ç¤ºï¼šçº¢æ¡†ä¸­ä¸ºè·¯ç”±åè®®ä¸­çš„ç½‘æ®µ

![image-20220901182756512](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901182756512.png)



## æ¼”ç¤º

ä½¿ç”¨GNS3æ¨¡æ‹Ÿé™æ€è·¯ç”±

#### æ‹“æ‰‘å›¾

![æ‹“æ‰‘å›¾æ¨¡æ¿](https://user-images.githubusercontent.com/107973104/188042039-39d00788-1472-4313-b6b4-64f9c9e8bf1d.png)


> æ³¨æ„è‡ªå·±å°†æ‹“æ‰‘æ—¶ç»“æ„éœ€å’Œå‚è€ƒæ‹“æ‰‘å®Œå…¨ä¸€æ ·ï¼ŒåŒ…æ‹¬æ¥å£ã€è·¯ç”±å™¨åç§°
>
> è·¯ç”±å™¨åç§°å¯ä»¥åœ¨å¯¼å…¥é…ç½®åå†ä¿®æ”¹



#### ä¿®æ”¹å‰å„è®¾å¤‡é…ç½®

- PC-1
- ![image-20220901212112672](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901212112672.png)



- PC-2![image-20220901212705735](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901212705735.png)



- R1æ¥å£![image-20220901212814358](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901212814358.png)



- R1è·¯ç”±<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901212857640.png" alt="image-20220901212857640" style="zoom:70%;" />



- R2æ¥å£<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901213028982.png" alt="image-20220901213028982" style="zoom:70%;" />



- R2è·¯ç”±![image-20220901213111000](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901213111000.png)



- æµ‹è¯•é™æ€è·¯ç”±![image-20220901213252142](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901213252142.png)

------

#### ä½¿ç”¨ç¬¬1ç§æ¨¡å¼ï¼ˆåªä¿®æ”¹IPåœ°å€ç¬¬äºŒä½ï¼‰

ä¿®æ”¹config.txtæ–‡ä»¶![image-20220901213633547](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901213633547.png)

è¿è¡ŒAutoReplace.exeï¼Œç„¶åå°†é…ç½®æ–‡ä»¶å¯¼å…¥ç›¸åº”çš„è®¾å¤‡

å„è®¾å¤‡é…ç½®æƒ…å†µï¼š

- PC-1![image-20220901214043638](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214043638.png)



- PC-2![image-20220901214122062](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214122062.png)



- R1æ¥å£<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214216174.png" alt="image-20220901214216174" style="zoom:70%;" />



- R1è·¯ç”±<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214258248.png" alt="image-20220901214258248" style="zoom:70%;" />



- R2æ¥å£<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214357534.png" alt="image-20220901214357534" style="zoom:70%;" />



- R2è·¯ç”±<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214503320.png" alt="image-20220901214503320" style="zoom:70%;" />



- æµ‹è¯•é™æ€è·¯ç”±![image-20220901214604350](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901214604350.png)

------

#### ä½¿ç”¨ç¬¬2ç§æ¨¡å¼ï¼ˆå®Œå…¨ä¿®æ”¹IPåœ°å€ï¼‰

ä¿®æ”¹config.txtæ–‡ä»¶![image-20220901215225662](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215225662.png)

> è¿™ç§æ¨¡å¼ä¸æ˜¯åªæœ‰æ¥å£åœ°å€éœ€è¦æ›¿æ¢ï¼Œè¿˜æœ‰è·¯ç”±åè®®ä¸­çš„ç½‘æ®µï¼Œå…¶ä¸­çº¢æ¡†éƒ¨åˆ†å°±æ˜¯é™æ€è·¯ç”±ä¸­çš„ç›®çš„ç½‘æ®µ
>
> å› æ­¤å»ºè®®ç¬¬1ç§æ¨¡å¼

è¿è¡ŒAutoReplace.exeï¼Œç„¶åå°†é…ç½®æ–‡ä»¶å¯¼å…¥ç›¸åº”çš„è®¾å¤‡

å„è®¾å¤‡é…ç½®æƒ…å†µï¼š

- PC-1![image-20220901215604071](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215604071.png)



- PC-2![image-20220901215637327](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215637327.png)



- R1æ¥å£<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215802807.png" alt="image-20220901215802807" style="zoom:70%;" />



- R1è·¯ç”±<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215845744.png" alt="image-20220901215845744" style="zoom:70%;" />



- R2æ¥å£<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901215936103.png" alt="image-20220901215936103" style="zoom:70%;" />



- R2è·¯ç”±<img src="https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901220015200.png" alt="image-20220901220015200" style="zoom:70%;" />



- æµ‹è¯•é™æ€è·¯ç”±![image-20220901220130142](https://taiyang-pictures-1308391752.cos.ap-nanjing.myqcloud.com/PicGoimage-20220901220130142.png)

------



## å†™åœ¨æœ€å

- ç”±äºè¯¥ä»£ç æ˜¯ä¸€ä¸‹åˆèµ¶å‡ºæ¥çš„ï¼Œé‡Œé¢è¿˜æœ‰å¾ˆå¤šä¸è¶³ã€‚æ¯”å¦‚åˆ¤æ–­ç”¨æˆ·ä¿®æ”¹config.txtçš„å†…å®¹æ˜¯å¦åˆæ³•

- æ¯æ¬¡æœ‰æ–°çš„é…ç½®ï¼Œæˆ‘éƒ½ä¼šæ›´æ–°åœ¨Githubä¸­ï¼Œç›®å½•ç»“æ„ä¸ºï¼š

  ```c
  AutoReplace
  â”‚  â”‚  AutoReplace.exe	// å¯æ‰§è¡Œç¨‹åº
  â”‚  â”‚  AutoReplace.py	// æºç 
  â”‚  â”‚
  â”‚  â””â”€staric-router           // é…ç½®åç§°
  â”‚          config.txt
  â”‚          PC-1_startup.vpc
  â”‚          PC-2_startup.vpc
  â”‚          R1_configs_i1_startup-config.cfg
  â”‚          R2_configs_i2_startup-config.cfg
  â”‚          æ‹“æ‰‘å›¾æ¨¡æ¿.png
  ```

- ä½ åªéœ€è¦æŒ‰éœ€ä¿®æ”¹config.txtæ–‡ä»¶ï¼Œç„¶åå°†AutoReplace.exeæ‹–å…¥åˆ°å¯¹åº”é…ç½®åç§°çš„æ–‡ä»¶å¤¹ä¸­ï¼ŒåŒå‡»è¿è¡Œå³å¯
- å¦‚æœæœ‰æ—¶é—´çš„è¯ï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½è‡ªå·±æ‰‹åŠ¨æ•²ä¸€æ•²å‘½ä»¤ï¼Œè‡ªå·±é…ç½®ä¸€ä¸‹ğŸŒ¹
